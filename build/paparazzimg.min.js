/*!
 * Paparazzimg
 * https://github.com/nyratas/paparazzimg
 *
 * Copyright (c) 2016 Toon Van den Bos
 * Licensed under the MIT license.
 */
"use strict";var paparazzimg=function(t){function i(){window.addEventListener("resize",t.addTrackpoint,!1)}function e(i){return null===i||void 0===i?!1:i.nodeType?new t.tracker(i):(console.error("Paparazzimg: variable is not a valid DOM element."),!1)}function n(t){h[t.id]=t,h[t.id].setActive()}function r(t){return void 0===u[t]?u[t]=[t]:u[t].push(t+u[t].length),u[t][u[t].length-1]}function o(t){return void 0!==h[t]?(h[t].setInactive(),h[t].report()):null}function s(){var t,i={};for(t in h)i[t]=o(t);return i}function a(t){h[t].isActive&&h[t].point()}function c(){for(var t in h)a(t)}var h={},u={};return t.track=function(t){var i=e(t);i&&n(i)},t.release=function(t){return void 0==t?s():o(t)},t.addId=function(t){return t=t.toLowerCase(),r(t)},t.addTrackpoint=function(t){"String"==typeof t&&a(t),c()},i(),t}(paparazzimg||{});paparazzimg.tracker=function(t){this.element=null,this.id=null,this.points=[],this.isActive=!1,this.init=function(t){this.element=t,this.setId()},this.setId=function(){this.element.getAttribute("id")?this.id=paparazzimg.addId(this.element.getAttribute("id")):(this.id=paparazzimg.addId(this.element.nodeName),this.element.setAttribute("id",this.id))},this.setActive=function(){this.isActive=!0},this.setInactive=function(){this.isActive=!1},this.report=function(){console.log(this.points),console.log("TODO : generate tracker report")},this.point=function(){this.points.push(this.getPoint())},this.getPoint=function(){var t={};return t.width=this.element.clientWidth,t.height=this.element.clientHeight,t.ratio=t.width/t.height,t},this.init(t)};