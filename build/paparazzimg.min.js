/*!
 * Paparazzimg
 * https://github.com/nyratas/paparazzimg
 *
 * Copyright (c) 2016 Toon Van den Bos
 * Licensed under the MIT license.
 */
"use strict";var paparazzimg=function(t){function i(){window.addEventListener("resize",t.addTrackpoint,!1)}function n(i){return null===i||void 0===i?!1:i.nodeType?new t.tracker(i):(console.error("Paparazzimg: variable is not a valid DOM element."),!1)}function e(t){u[t.id]=t,u[t.id].setActive()}function s(t){return void 0===c[t]?c[t]=[t]:c[t].push(t+c[t].length),c[t][c[t].length-1]}function r(t){return void 0!==u[t]?(u[t].setInactive(),u[t].report()):null}function o(){var t,i={};for(t in u)i[t]=r(t);return i}function h(t){u[t].isActive&&u[t].point()}function a(){for(var t in u)h(t)}var u={},c={};return t.track=function(t){var i=n(t);i&&e(i)},t.release=function(t){return void 0==t?o():r(t)},t.addId=function(t){return t=t.toLowerCase(),s(t)},t.addTrackpoint=function(t){"String"==typeof t&&h(t),a()},i(),t}(paparazzimg||{});paparazzimg.tracker=function(t){this.element=null,this.id=null,this.points=[],this.isActive=!1,this.init=function(t){this.element=t,this.setId()},this.setId=function(){this.element.getAttribute("id")?this.id=paparazzimg.addId(this.element.getAttribute("id")):(this.id=paparazzimg.addId(this.element.nodeName),this.element.setAttribute("id",this.id))},this.setActive=function(){this.isActive=!0},this.setInactive=function(){this.isActive=!1},this.report=function(){var t={};return t.count=this.points.length,t.extremum=this.getExtremum(),t},this.point=function(){this.points.push(this.getPoint())},this.getPoint=function(){var t={};return t.width=this.element.clientWidth,t.height=this.element.clientHeight,t.ratio=t.width/t.height,t},this.getExtremum=function(){var t,i,n={};for(t=0;t<this.points.length;t++)for(i in this.points[t])void 0===n[i]?n[i]={min:this.points[t][i],max:this.points[t][i]}:this.points[t][i]>n[i].max?n[i].max=this.points[t][i]:this.points[t][i]<n[i].min&&(n[i].min=this.points[t][i]);return n},this.init(t)};